export { loadConfigValues };
import { objectAssign } from '../utils.js';
import { parseConfigValuesSerialized } from './serialize/parsePageConfigs.js';
async function loadConfigValues(pageConfig, isDev) {
    if ('isAllLoaded' in pageConfig &&
        // We don't need to cache in dev, since Vite already caches the virtual module
        !isDev) {
        return pageConfig;
    }
    const configValuesLoaded = await pageConfig.loadConfigValuesAll();
    const configValues = parseConfigValuesSerialized(configValuesLoaded.configValuesSerialized);
    Object.assign(pageConfig.configValues, configValues);
    objectAssign(pageConfig, { isAllLoaded: true });
    return pageConfig;
}
