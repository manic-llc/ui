"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getVikeManifest = getVikeManifest;
const utils_js_1 = require("../../utils.js");
const assertPluginManifest_js_1 = require("../../../shared/assertPluginManifest.js");
const extractExportNamesPlugin_js_1 = require("../extractExportNamesPlugin.js");
const globalContext_js_1 = require("../../../runtime/globalContext.js");
function getVikeManifest(configVike) {
    const runtimeManifest = (0, globalContext_js_1.getRuntimeManifest)(configVike);
    const manifest = {
        version: utils_js_1.projectInfo.projectVersion,
        usesClientRouter: (0, extractExportNamesPlugin_js_1.isUsingClientRouter)(), // TODO/v1-release: remove
        ...runtimeManifest
    };
    (0, assertPluginManifest_js_1.assertPluginManifest)(manifest);
    return manifest;
}
